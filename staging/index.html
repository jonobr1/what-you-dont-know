<!DOCTYPE html>
<html lang="en">
  <head>
    <title>What You Don't Know</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

    <!-- iOS specific catches -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <meta name="format-detection" content="telephone=no">

    <style>
      html {
        height: 100%;
      }
      body {
        height: 100%;
        margin: 0px;
      }
      canvas {
        display: block;
      }
      #container {
        height: 100%;
      }
    </style>
    <link rel="stylesheet" type="text/css" href="styles/spinner.css">
  </head>
  <body>
    <div id="container"></div>
    <div id="loading" class="spinner">
      <div class="bounce1"></div>
      <div class="bounce2"></div>
      <div class="bounce3"></div>
    </div>

    <script src="../release/third-party/Frame.js"></script>

    <script>

      var resources = new FRAME.Resources();
      var container = document.getElementById( 'container' );
      resources.set( 'dom', container );

      var timeline = new FRAME.Timeline();
      var player = new FRAME.Player();

      //

      timeline.load( './experience.json', function () {

        timeline.compile( resources, player );
        resources.onLoad( function () {
          document.body.removeChild( document.getElementById( 'loading' ) );
          resources.get( 'renderer' ).setAnimationLoop( animate );
          // player.play();
        } );

      } );

      //

      var prevTime = null;
      function animate( time ) {

        if ( prevTime === null ) {
          prevTime = time;
        }

        player.tick( time - prevTime );
        timeline.update( player.currentTime );
        prevTime = time;

      }

    </script>
  </body>
</html>
